{"version":3,"file":"index.modern.js","sources":["../index.js"],"sourcesContent":["const axios = require('axios');\n\nconst getSingleStockInfo = (stock) => new Promise((resolve, reject) => {\n  if (!stock) {\n    return reject(Error('Stock symbol required'));\n  }\n  if (typeof stock !== 'string') {\n    return reject(\n      Error(`Invalid argument type. Required: string. Found: ${typeof stock}`),\n    );\n  }\n\n  const url = `https://query1.finance.yahoo.com/v7/finance/quote?symbols=${stock}`;\n\n  return axios\n    .get(url)\n    .then((res) => {\n      const { data } = res;\n      if (\n        !data\n          || !data.quoteResponse\n          || !data.quoteResponse.result\n          || data.quoteResponse.result.length === 0\n      ) {\n        return reject(new Error(`Error retrieving info for symbol ${stock}`));\n      }\n      return resolve(data.quoteResponse.result[0]);\n    })\n    .catch((err) => reject(err));\n});\n\nconst getStocksInfo = (stockList) => new Promise((resolve, reject) => {\n  if (!stockList) {\n    return reject(Error('Stock symbol list required'));\n  }\n  if (!Array.isArray(stockList)) {\n    return reject(Error('Invalid argument type. Array required.'));\n  }\n\n  const list = [...stockList];\n  if (!list.length || list.length < 1) {\n    return Promise.resolve([]);\n  }\n\n  const promises = list.map(getSingleStockInfo);\n  return resolve(Promise.all(promises));\n});\n\nmodule.exports = {\n  getSingleStockInfo,\n  getStocksInfo,\n};\n"],"names":["axios","require","getSingleStockInfo","stock","Promise","resolve","reject","Error","get","then","res","data","quoteResponse","result","length","catch","err","module","exports","getStocksInfo","stockList","Array","isArray","list","promises","map","all"],"mappings":"AAAA,MAAMA,EAAQC,QAAQ,SAEhBC,EAAsBC,GAAU,IAAIC,QAAQ,CAACC,EAASC,IACrDH,EAGgB,iBAAVA,EACFG,EACLC,MAAO,0DAAyDJ,IAM7DH,EACJQ,IAHU,6DAA4DL,KAItEM,KAAMC,IACL,MAAMC,KAAEA,GAASD,EACjB,OACGC,GACKA,EAAKC,eACLD,EAAKC,cAAcC,QACiB,IAArCF,EAAKC,cAAcC,OAAOC,OAI1BT,EAAQM,EAAKC,cAAcC,OAAO,IAFhCP,EAAO,IAAIC,MAAO,oCAAmCJ,QAI/DY,MAAOC,GAAQV,EAAOU,IAxBhBV,EAAOC,MAAM,2BA4CxBU,OAAOC,QAAU,CACfhB,mBAAAA,EACAiB,cAnBqBC,GAAc,IAAIhB,QAAQ,CAACC,EAASC,KACzD,IAAKc,EACH,OAAOd,EAAOC,MAAM,+BAEtB,IAAKc,MAAMC,QAAQF,GACjB,OAAOd,EAAOC,MAAM,2CAGtB,MAAMgB,EAAO,IAAIH,GACjB,IAAKG,EAAKT,QAAUS,EAAKT,OAAS,EAChC,OAAOV,QAAQC,QAAQ,IAGzB,MAAMmB,EAAWD,EAAKE,IAAIvB,GAC1B,OAAOG,EAAQD,QAAQsB,IAAIF"}